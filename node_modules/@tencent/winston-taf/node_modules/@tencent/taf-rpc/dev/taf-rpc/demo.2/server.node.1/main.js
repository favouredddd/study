process.env.taf_stream   = "../../../../taf-stream";
process.env.taf_rpc_path = "../../../../taf-rpc";


//process.env.TAF_CONFIG

var Taf  = require(process.env.taf_rpc_path).server;
var TRom = require("./NodeSecondImp.js").TRom;

var svr  = Taf.createServer(TRom.NodeSecondImp);
svr.start({
    endpoint : "tcp -h 127.0.0.1 -p 14003 -t 10000",                        //【必选】服务的监听地址
    name     : "TRom.NodeSecondServer.NodeSecondObjAdapetr",                //
    servant  : "TRom.NodeSecondServer.NodeSecondObj",
    locator  : "taf.tafregistry.QueryObj@tcp -h 172.27.208.171 -p 17890",   //【可选，默认值为空】，如果不指定将无法使用主控功能
    protocol : "taf",                                                       //【可选，默认值为TAF协议解析器(taf-rpc-jce)】
    maxconns : 200000                                                       //【可选，默认值为1024】服务端可以并发的最大链接数
});

console.log("server started.");
