process.env.taf_stream   = "../../../../../taf-stream";
process.env.taf_rpc_path = "../../../../";

var TafSvr = require(process.env.taf_rpc_path).server;
var TRom   = require("./NodeJsCommImp.js").TRom;

var option = new TafSvr.BindAdapterOption();
option.endpoint  = "tcp -h 127.0.0.1 -p 14002 -t 10000";
//option.endpoint  = "udp -h 127.0.0.1 -p 14003 -t 10000";
option.name      = "TRom.NodeJsTestServer.NodeJsCommObjAdapetr";
option.servant   = "TRom.NodeJsTestServer.NodeJsCommObj";
option.handleImp = TRom.NodeJsCommImp;

var svr = TafSvr.createServer();
svr.start(option);

console.log("server started.");
