module LogStat
{
	///////////////////////////////////////////////////////////
	// 通用数据结构
	///////////////////////////////////////////////////////////
	struct StatLog
	{
		0 require  string logname;               // "pp_" + "ClientConfig::ModuleName + "_用户自定义名字"
		1 require  vector<string> content;       // 日志内容数组, 每个string都是StatContent的jce序列化后数据
		2 optional string date;                  // 用户上报数据时不用填
		3 optional string flag;					 // 用户上报数据时不用填
		4 optional int extend;					 // 用户上报数据时不用填
	};
	struct StatValue
	{
		0 require string policy;                 // 支持 "Sum", "Avg", "Max", "Min","Count"
		1 require float value;                   // 上报数值
		2 require long count;                    // 1
	};
	struct StatContent
	{
		0 require vector<string> keys;           // 日志维度字段数组, 默认自动填充下标0和1， 内容分别为：ServerConfig::LocalIp 和 taf服务名(set: set.serverName 否则 app.servername)
		1 require vector<StatValue> values;      // 日志指标字段数组
	};

	struct StatOneLog                            // 
	{
		0 require  string logname;               
		1 require vector<string> keys;
		2 require vector<StatValue> values;
	};

	/**
	 *
	 * 上报服务的接口
	 *
	 **/
	interface PropertyPlushF
	{

		// 通用上报接口
		int logstat(StatLog log);

		// 多日志上报接口
		int mutillogstat(vector<StatLog> logs);
	};

}; 
