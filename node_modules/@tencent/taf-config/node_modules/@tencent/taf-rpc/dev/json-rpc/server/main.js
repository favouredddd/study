process.env.taf_rpc_path = "../../../";
process.env.taf_rpc_json = "../../../../taf-rpc-json";

var Taf      = require(process.env.taf_rpc_path).server;
var Protocol = require(process.env.taf_rpc_json).server;

var Handle   = require("./EchoHandle.js");

var TafSvr = Taf.createServer();

var option = new Taf.BindAdapterOption();
option.endpoint     = "tcp -h 127.0.0.1 -p 12306 -t 10000";
//option.endpoint     = "udp -h 127.0.0.1 -p 12306 -t 10000";
option.protocolName = "json";
option.protocol     = Protocol;
option.handleImp    = Handle;

TafSvr.start(option);
